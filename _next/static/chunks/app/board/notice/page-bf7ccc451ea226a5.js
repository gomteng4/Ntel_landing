(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{272:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),r=t(2115),n=t(2099),l=t(6874),i=t.n(l);function c(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{o()},[]);let o=async()=>{try{let{data:e,error:t}=await n.N.from("board_notice").select("*").eq("is_active",!0).order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});t?(console.error("Error fetching posts:",t),d("게시글을 불러올 수 없습니다.")):s(e||[])}catch(e){console.error("Error fetching posts:",e),d("게시글을 불러올 수 없습니다.")}finally{l(!1)}};return t?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"로딩 중..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"공지사항을 불러오고 있습니다."})]})}):c?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"오류 발생"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:c}),(0,a.jsx)(i(),{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium",children:"홈으로 돌아가기"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCE2 공지사항"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"중요한 공지사항을 확인해주세요."})]}),(0,a.jsx)(i(),{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium",children:"홈으로"})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["총 ",e.length,"개의 공지사항"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["마지막 업데이트: ",e.length>0?new Date(e[0].created_at).toLocaleDateString():"없음"]})]})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:0===e.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"등록된 공지사항이 없습니다"}),(0,a.jsx)("p",{className:"text-gray-500",children:"새로운 공지사항이 등록되면 알려드리겠습니다."})]}):e.map((s,t)=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors ".concat(s.is_pinned?"bg-blue-50":""),children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[s.is_pinned&&(0,a.jsx)("span",{className:"bg-red-500 text-white px-2 py-1 text-xs font-medium rounded",children:"\uD83D\uDCCC 공지"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["#",e.length-t]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:s.title})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.content?s.content.substring(0,150)+(s.content.length>150?"...":""):"내용이 없습니다."}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.author]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(s.created_at).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),s.view_count||0]}),s.updated_at!==s.created_at&&(0,a.jsx)("span",{className:"text-orange-500 text-xs",children:"수정됨"})]})]})})},s.id))})]})})]})}},2099:(e,s,t)=>{"use strict";t.d(s,{N:()=>i});var a=t(5647),r=t(1890);let n=r.env.NEXT_PUBLIC_SUPABASE_URL||"https://suznpkxteqhvqvlaenrq.supabase.co",l=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1em5wa3h0ZXFodnF2bGFlbnJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMzQ2NDYsImV4cCI6MjA2NjkxMDY0Nn0.hgGYLUWMoyjB4SpyEfR2nOqaAvPonaefyRZ6T3UYRO8",i=null;try{i=(0,a.UU)(n,l)}catch(e){console.warn("Supabase client initialization failed:",e),i={from:()=>({select:()=>({data:null,error:null}),insert:()=>({data:null,error:null}),update:()=>({data:null,error:null}),delete:()=>({data:null,error:null}),eq:()=>({}),order:()=>({})})}}},6781:(e,s,t)=>{Promise.resolve().then(t.bind(t,272))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,647,441,303,358],()=>s(6781)),_N_E=e.O()}]);